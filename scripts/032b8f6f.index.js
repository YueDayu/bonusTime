"use strict";$(document).ready(function(){function a(){$.ajax({url:"http://lottery.lab.mu/count",async:!1,success:function(a){n[1]=a.count}})}var b=function(){var a=1,b=999,c=4,d=!1,e=!1,f=0;return $.ajax({type:"get",async:!1,url:"config.json",contentType:"application/json; charset=utf-8",dataType:"json",success:function(g){a=g.range[0],b=g.range[1],c=g.range[2],d=g.background,e=g.card,f=g.mode}}),[a,b,c,d,e,f]},c=function(){$("body").css("background","url('images/background.jpg')"),$("body").css("background-size",$(window).width()+"px "+$(window).height()+"px")},d=function(){for(var a=0;10>a;a++)$("#card"+a).css("background","url('images/"+a+".jpg') no-repeat center 200px").text("")},e=function(a,b,c,d){for(var e=Math.floor(Math.random()*(c-b+1)+b)+1;-1!==a.indexOf(e);)e=Math.round(Math.random()*(c-b+1)+b);10>c-b-a||a.push(e);for(var f=e.toString();f.length<d;)f="0"+f;return f.split("")},f=function(){$("#shape").toggleClass("ring").toggleClass("cube")},g=function(a,b){var c=$("#shape");c.toggleClass("ringShow_"+a).toggleClass("cubeShow_"+b),c.css("-webkit-transform","rotateY("+-36*a+"deg)")},h=function(a){$("#card"+a).toggleClass("jump"+a)},i=function(a,b){$("#num"+a).text(b)},j=function(a){$("#num"+a).toggleClass("jumpDown")},k=function(a,b,c){f(),g(b,c),setTimeout(function(){h(p[a]),setTimeout(function(){i(a+1,p[a]),j(a+1),f(),g(b,b),h(p[a])},1100)},3300)},l=function(a){for(var b=0;b<a.length;b++)i(b+1,a[b]),j(b+1)},m=function(a){for(var b=0;b<a.length;b++)j(b+1),$("#num"+(b+1)).text("")},n=b();a(),setInterval(a,1e3),n[3]&&c(),n[4]&&d();var o=[],p=e(o,n[0],n[1],n[2]),q=0,r=0;$("body").keydown(function(a){0===n[5]?32===a.which&&(q<p.length?(k(q,p[q],r),r=p[q],q++):(q=0,m(p),p=e(o,n[0],n[1],n[2]))):1===n[5]&&(32===a.which&&0===q?(f(),q++):32===a.which&&1===q?(f(),l(p),q++):32===a.which&&2===q&&(m(p),p=e(o,n[0],n[1],n[2]),q=0))})});