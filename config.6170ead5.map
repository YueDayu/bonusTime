{"version":3,"sources":["scripts\\config.js"],"names":["window","onload","options","bg_url","min","max","bg","document","querySelector","addEventListener","e","reader","FileReader","console","log","readAsBinaryString","files","formData","FormData","append","fetch","method","body","mode","then","res","json","data","url","value","form","generated","href","location","URL","searchParams","set","innerText","setAttribute","preventDefault"],"mappings":";AAAAA,OAAOC,MAAP,GAAgB,YAAM;AACpB,MAAMC,UAAU;AACdC,YAAQ,IADM;AAEdC,SAAK,CAFS;AAGdC,SAAK;AAHS,GAAhB;;AAMA,MAAMC,KAAKC,SAASC,aAAT,CAAuB,YAAvB,CAAX;AACAF,KAAGG,gBAAH,CAAoB,QAApB,EAA8B,UAACC,CAAD,EAAO;AACnC,QAAMC,SAAS,IAAIC,UAAJ,EAAf;AACAC,YAAQC,GAAR,CAAYH,MAAZ;AACAA,WAAOI,kBAAP,CAA0BT,GAAGU,KAAH,CAAS,CAAT,CAA1B;AACA,QAAMC,WAAY,IAAIC,QAAJ,EAAlB;AACAD,aAASE,MAAT,CAAgB,QAAhB,EAA0Bb,GAAGU,KAAH,CAAS,CAAT,CAA1B;AACAI,UAAM,0BAAN,EAAkC;AAChCC,cAAQ,MADwB;AAEhCC,YAAML,QAF0B;AAGhCM,YAAM;AAH0B,KAAlC,EAIGC,IAJH,CAIQ,UAACC,GAAD,EAAS;AACfA,UAAIC,IAAJ,GAAWF,IAAX,CAAgB,eAAO;AACrB,YAAMG,OAAOF,IAAIE,IAAjB;AACA,YAAMC,MAAMD,KAAKC,GAAjB;AACA1B,gBAAQC,MAAR,GAAiByB,GAAjB;AACD,OAJD;AAKD,KAVD;AAWD,GAjBD;;AAmBA,MAAMxB,MAAMG,SAASC,aAAT,CAAuB,MAAvB,CAAZ;AACAJ,MAAIK,gBAAJ,CAAqB,QAArB,EAA+B,YAAM;AACnCP,YAAQE,GAAR,GAAcA,IAAIyB,KAAlB;AACD,GAFD;;AAIA,MAAMxB,MAAME,SAASC,aAAT,CAAuB,MAAvB,CAAZ;AACAH,MAAII,gBAAJ,CAAqB,QAArB,EAA+B,YAAM;AACnCP,YAAQG,GAAR,GAAcA,IAAIwB,KAAlB;AACD,GAFD;;AAIA,MAAMC,OAAOvB,SAASC,aAAT,CAAuB,OAAvB,CAAb;AACA,MAAMuB,YAAYxB,SAASC,aAAT,CAAuB,YAAvB,CAAlB;AACAsB,OAAKrB,gBAAL,CAAsB,QAAtB,EAAgC,UAACC,CAAD,EAAO;AACrC,QAAMsB,OAAOhC,OAAOiC,QAAP,CAAgBD,IAA7B;AACA,QAAMJ,MAAM,IAAIM,GAAJ,CAAQ,cAAR,EAAwBF,IAAxB,CAAZ;AACA,QAAI9B,QAAQE,GAAR,KAAgB,CAAhB,IAAqBF,QAAQE,GAAjC,EAAsC;AACpCwB,UAAIO,YAAJ,CAAiBC,GAAjB,CAAqB,KAArB,EAA4BlC,QAAQE,GAApC;AACD;AACD,QAAIF,QAAQG,GAAZ,EAAiB;AACfuB,UAAIO,YAAJ,CAAiBC,GAAjB,CAAqB,KAArB,EAA4BlC,QAAQG,GAApC;AACD;AACD,QAAIH,QAAQC,MAAZ,EAAoB;AAClByB,UAAIO,YAAJ,CAAiBC,GAAjB,CAAqB,QAArB,EAA+BlC,QAAQC,MAAvC;AACD;;AAED4B,cAAUM,SAAV,GAAsBT,IAAII,IAA1B;AACAD,cAAUO,YAAV,CAAuB,MAAvB,EAA+BV,IAAII,IAAnC;AACAtB,MAAE6B,cAAF;AACD,GAhBD;AAiBD,CAxDD","file":"config.6170ead5.map","sourceRoot":"..\\app","sourcesContent":["window.onload = () => {\r\n  const options = {\r\n    bg_url: null,\r\n    min: 1,\r\n    max: 999,\r\n  }\r\n\r\n  const bg = document.querySelector('#bg-upload');\r\n  bg.addEventListener('change', (e) => {\r\n    const reader = new FileReader();\r\n    console.log(reader);\r\n    reader.readAsBinaryString(bg.files[0]);\r\n    const formData  = new FormData();\r\n    formData.append('smfile', bg.files[0]);\r\n    fetch('https://sm.ms/api/upload', {\r\n      method: 'POST',\r\n      body: formData,\r\n      mode: 'cors',\r\n    }).then((res) => {\r\n      res.json().then(res => {\r\n        const data = res.data;\r\n        const url = data.url;\r\n        options.bg_url = url;\r\n      });\r\n    });\r\n  });\r\n\r\n  const min = document.querySelector('#min');\r\n  min.addEventListener('change', () => {\r\n    options.min = min.value;\r\n  });\r\n\r\n  const max = document.querySelector('#max');\r\n  max.addEventListener('change', () => {\r\n    options.max = max.value;\r\n  });\r\n\r\n  const form = document.querySelector('#form');\r\n  const generated = document.querySelector('#generated');\r\n  form.addEventListener('submit', (e) => {\r\n    const href = window.location.href;\r\n    const url = new URL('./index.html', href);\r\n    if (options.min === 0 || options.min) {\r\n      url.searchParams.set('min', options.min);\r\n    }\r\n    if (options.max) {\r\n      url.searchParams.set('max', options.max);\r\n    }\r\n    if (options.bg_url) {\r\n      url.searchParams.set('bg_url', options.bg_url);  \r\n    }\r\n\r\n    generated.innerText = url.href;\r\n    generated.setAttribute('href', url.href);\r\n    e.preventDefault();\r\n  });\r\n}\r\n"]}